#include <iostream>
#include <conio.h>
#include <windows.h>

using namespace std;

// Function to set the cursor position in the console window
void co_ordinate(int x, int y) {
    COORD c;
    c.X = x;
    c.Y = y;
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), c);
}
int main()
{
  //window screen 
const int hor_len=44;
const int ver_len=20;

  //initial position of bat
int batpos_left_x=0;
int batpos_left_y=ver_len/2;

int batpos_right_x=hor_len;
int batpos_right_y=ver_len/2;

int batsize=3;

//initial poition of ball
 int ballX = hor_len / 2;
 int ballY = ver_len / 2;

//initial speed of the ball:top left(diagonal)
int ballspd_X = -1;
int ballspd_Y = -1;

//initial score of both players
    int score1 = 0;
    int score2 = 0;

// Display ball
        gotoxy(ballX, ballY);
        cout << "O";
//display score board
cout<<"Score:"<<"score1"<<":"<<"score2"<<endl;

char input;

while (score1<=5 && score2<=5) {

        // Display paddles
        for (int i = 0; i < batsize; i++) {
            gotoxy(0, batpos_left_y + i);
            cout << "|";
            gotoxy(hor_len - 1, batpos_right_y + i);
            cout << "|";
        }

// Move paddles based on input
        if (_kbhit()) {
            input = _getch();

            switch (input) {
            case 'w':
                if (batpos_left_y > 0)
                batpos_left_y--;
                break;
            case 's':
                if (batpos_left_y < ver_len - batsize)
                batpos_left_y++;
                break;
            case 'i':
                if (batpos_right_y > 0)
                batpos_right_y--;
                break;
            case 'k':
                if (batpos_right_y < ver_len - batsize)
                batpos_right_y++;
                break;
            }
        }
 // Move ball
        ballX += ballspd_X;
        ballY += ballspd_Y;

        // Ball collision with walls
        if (ballY == 0 || ballY == ver_len - 1) {
            ballspd_Y = -ballspd_Y;
        }
// Ball collision with paddles
        if (ballX == 1 && (ballY >= batpos_left_y && ballY < batpos_left_y + batsize)) {
            ballspd_X = -ballspd_X;
        }

        if (ballX == hor_len-2 && (ballY >= batpos_right_y && ballY < batpos_right_y + batsize)) {
            ballspd_X = -ballspd_X;
        }

        // Ball out of bounds
        if (ballX < 0) {
            score2++;
            ballX = hor_len / 2;
            ballY = ver_len / 2;
        }
if (ballX >= hor_len) {
            score1++;
            ballX = hor_len/ 2;
            ballY = ver_lenu / 2;
        }

        // Slow down the game a bit
        Sleep(50);

        // Clear the screen
        system("cls");

 
}

}









